{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thiag\\\\OneDrive\\\\Documentos\\\\IGTI-Bootcamp\\\\Modulo4\\\\Capitulo2\\\\Aula2\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Candidates from './components/Candidates';\nimport Header from './components/Header';\nimport Spinner from './components/Spinner';\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      candidates: [],\n      previousVotes: [],\n      previousPercentage: []\n    };\n    this.interval = null;\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      fetch('http://localhost:8080/votes').then(res => {\n        return res.json();\n      }).then(json => {\n        const previousVotes = this.state.candidates.map(({\n          id,\n          votes\n        }) => {\n          return {\n            id,\n            votes\n          };\n        });\n        const previousPercentage = this.state.candidates.map(({\n          id,\n          percentage\n        }) => {\n          return {\n            id,\n            percentage\n          };\n        });\n        this.setState({\n          candidates: json.candidates,\n          previousVotes,\n          previousPercentage\n        });\n      });\n    }, 1000);\n  }\n\n  render() {\n    const {\n      candidates,\n      previousVotes\n    } = this.state;\n\n    if (candidates.length === 0) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        description: \"Carregando...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, \"Vota\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(Candidates, {\n      candidates: candidates,\n      prevVotes: previousVotes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/thiag/OneDrive/Documentos/IGTI-Bootcamp/Modulo4/Capitulo2/Aula2/frontend/src/App.js"],"names":["React","Component","Candidates","Header","Spinner","App","constructor","state","candidates","previousVotes","previousPercentage","interval","componentDidMount","setInterval","fetch","then","res","json","map","id","votes","percentage","setState","render","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,eAAe,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AACzCK,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,EADD;AAEXC,MAAAA,aAAa,EAAE,EAFJ;AAGXC,MAAAA,kBAAkB,EAAE;AAHT,KAAb;AAKA,SAAKC,QAAL,GAAgB,IAAhB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKD,QAAL,GAAgBE,WAAW,CAAC,MAAM;AAChCC,MAAAA,KAAK,CAAC,6BAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAAS;AACb,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,OAHH,EAIGF,IAJH,CAISE,IAAD,IAAU;AACd,cAAMR,aAAa,GAAG,KAAKF,KAAL,CAAWC,UAAX,CAAsBU,GAAtB,CAA0B,CAAC;AAAEC,UAAAA,EAAF;AAAMC,UAAAA;AAAN,SAAD,KAAmB;AACjE,iBAAO;AAAED,YAAAA,EAAF;AAAMC,YAAAA;AAAN,WAAP;AACD,SAFqB,CAAtB;AAIA,cAAMV,kBAAkB,GAAG,KAAKH,KAAL,CAAWC,UAAX,CAAsBU,GAAtB,CACzB,CAAC;AAAEC,UAAAA,EAAF;AAAME,UAAAA;AAAN,SAAD,KAAwB;AACtB,iBAAO;AAAEF,YAAAA,EAAF;AAAME,YAAAA;AAAN,WAAP;AACD,SAHwB,CAA3B;AAMA,aAAKC,QAAL,CAAc;AACZd,UAAAA,UAAU,EAAES,IAAI,CAACT,UADL;AAEZC,UAAAA,aAFY;AAGZC,UAAAA;AAHY,SAAd;AAKD,OApBH;AAqBD,KAtB0B,EAsBxB,IAtBwB,CAA3B;AAuBD;;AAEDa,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEf,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAAgC,KAAKF,KAA3C;;AAEA,QAAIC,UAAU,CAACgB,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,0BAAO,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAC,eAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAEhB,UAAxB;AAAoC,MAAA,SAAS,EAAEC,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAMD;;AAlDwC","sourcesContent":["import React, { Component } from 'react';\nimport Candidates from './components/Candidates';\nimport Header from './components/Header';\nimport Spinner from './components/Spinner';\n\nexport default class App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      candidates: [],\n      previousVotes: [],\n      previousPercentage: [],\n    };\n    this.interval = null;\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      fetch('http://localhost:8080/votes')\n        .then((res) => {\n          return res.json();\n        })\n        .then((json) => {\n          const previousVotes = this.state.candidates.map(({ id, votes }) => {\n            return { id, votes };\n          });\n\n          const previousPercentage = this.state.candidates.map(\n            ({ id, percentage }) => {\n              return { id, percentage };\n            }\n          );\n\n          this.setState({\n            candidates: json.candidates,\n            previousVotes,\n            previousPercentage,\n          });\n        });\n    }, 1000);\n  }\n\n  render() {\n    const { candidates, previousVotes } = this.state;\n\n    if (candidates.length === 0) {\n      return <Spinner description=\"Carregando...\" />;\n    }\n    return (\n      <div className=\"container\">\n        <Header>Votação</Header>\n        <Candidates candidates={candidates} prevVotes={previousVotes} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}